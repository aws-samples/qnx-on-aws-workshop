[English](README.md) | **日本語**

# シンプル QNX コックピット

自動車アプリケーション向けリアルタイム組み込みシステム開発を実演するクロスプラットフォーム車両コックピットアプリケーション。C++ で構築され、Linux 開発環境と QNX リアルタイムオペレーティングシステムの両方で同一に動作するよう設計されています。

## 概要

このプロジェクトは、デモンストレーション目的の基本的な速度シミュレーションを備えたシンプルな車両ダッシュボードを紹介します。アプリケーションはアニメーション速度ゲージを備えたテキストベースのユーザーインターフェースを特徴とし、グラフィカルディスプレイが利用できない、または不要な組み込みシステムに最適です。

**主な用途：**
- 組み込み自動車開発プロトタイピング
- QNX リアルタイムシステムデモンストレーション
- クロスプラットフォーム C++ 開発例
- 自動車ソフトウェア理解のための教育ツール

## 機能
- リアルタイム速度表示と ASCII プログレスバー
- アニメーション速度シミュレーション（0-120 km/h）
- ステータスインジケーター（駐車中、市街地、高速道路、高速）
- 20秒後の自動終了
- クロスプラットフォームサポート（Linux/QNX）

## クイックスタート

### Linux
```bash
make linux
```

### QNXターゲット
```bash
make qnx
```

## ビルドオプション

### プラットフォーム
- `linux` - ネイティブ Linux ビルド
- `aarch64le` - QNX ARM 64 ビット

### 例
```bash
# Linux ビルドと実行
make linux

# QNX ビルド、デプロイ、実行
make qnx

# QNX ターゲットへのデプロイのみ
make qnx-deploy

# 全ビルドのクリーン
make clean
```

## アーキテクチャ

### クロスプラットフォーム設計
- **単一コードベース** - 同じ C++ ソースが両プラットフォームで動作
- **条件付きコンパイル** - 自動コンパイラ選択（Linux 用 gcc/g++、QNX 用 qcc/q++）
- **プラットフォーム固有ビルド** - 各ターゲット用の個別ビルドディレクトリ
- **リモートデプロイメント** - QNX ターゲットへの自動 SCP/SSH デプロイメント

### 技術詳細
- **言語**: C++
- **ビルドシステム**: GNU Make
- **QNX コンパイラ**: QNX ソフトウェア開発プラットフォーム
- **Linux コンパイラ**: GCC
- **依存関係**: 標準 C++ ライブラリのみ

## 設定

### QNXターゲット設定
```bash
export TARGET_IP=10.1.10.107    # QNX ターゲット IP アドレス
export TARGET_USER=root         # ターゲット用 SSH ユーザー名
export TARGET_PATH=/tmp         # ターゲット上のデプロイメントディレクトリ
```

### 開発要件
- **Linux**: GCC/G++ コンパイラ
- **QNX**: ARM64 サポート付き QNX ソフトウェア開発プラットフォーム
- **ネットワーク**: QNX ターゲットシステムへの SSH アクセス

## ビルド成果物
- **Linux 実行ファイル**: `build/linux/cockpit`
- **QNX 実行ファイル**: `build/aarch64le/cockpit`
- **オブジェクトファイル**: `build/{platform}/*.o`
- **依存関係ファイル**: `build/{platform}/*.d`

## アプリケーションの動作
コックピットシミュレーションは正確に20秒間実行され、以下を表示します：
1. **速度進行**: シンプルな増分で 0 → 120 km/h → 0 km/h
2. **視覚的速度メーター**: 現在の速度を示す ASCII プログレスバー
3. **ステータスインジケーター**: 現在の速度に基づく 駐車中 → 市街地 → 高速道路 → 高速
4. **カウントダウンタイマー**: 残り実行時間を表示
5. **自動終了**: 20 秒後のクリーンシャットダウン

## トラブルシューティング
- **QNX 接続問題**: TARGET_IP と SSH アクセスを確認
- **ビルド失敗**: QNX SDP が適切にインストールされ設定されていることを確認
- **権限エラー**: SSH 鍵認証を確認するか、パスワード認証を使用
